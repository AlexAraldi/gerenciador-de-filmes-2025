import{Q as h,S as u,a,b as r,d as o,h as l,i as m}from"./chunk-5TDF23BS.js";var c=(i=>(i.Filme="filme",i.Tv="tv",i))(c||{});var s={production:!0,apiKey:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwYzA3OTkwYjM2Yzg3NWZhYjczMGQ4YTE4YjdlOTgwYiIsIm5iZiI6MTc2MDAyODY4OS40OTIsInN1YiI6IjY4ZTdlODExYzc4ZDUyYjVkZGU2YTc5YyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.bxBzaOZq7hlZWnY0V7E1IlivCVEePXbbiWDVtZ7b85M"};var M=class d{http=m(h);domSanitizer=m(u);urlBase="https://api.themoviedb.org/3";selecionarMidiasPopulares(e){let i=e==="filme"?"movie":"tv",t=`${this.urlBase}/${i}/popular?language=pt-BR`;return this.http.get(t,{headers:{Authorization:s.apiKey}}).pipe(o(p=>this.mapearMidia(p,e)))}selecionarMidiasMaisVotadas(e){let i=e==="filme"?"movie":"tv",t=`${this.urlBase}/${i}/top_rated?language=pt-BR`;return this.http.get(t,{headers:{Authorization:s.apiKey}}).pipe(o(p=>this.mapearMidia(p,e)))}selecionarFilmesEmCartaz(){let e=`${this.urlBase}/movie/now_playing?language=pt-BR`;return this.http.get(e,{headers:{Authorization:s.apiKey}}).pipe(o(this.mapearFilme))}selecionarDetalhesMidiaPorId(e,i){let t=e==="filme"?"movie":"tv",p=`${this.urlBase}/${t}/${i}?language=pt-BR`;return this.http.get(p,{headers:{Authorization:s.apiKey}}).pipe(o(n=>this.mapearDetalhesMidia(n,e)))}selecionarVideosMidiaPorId(e,i){let t=e==="filme"?"movie":"tv",p=`${this.urlBase}/${t}/${i}/videos?language=pt-BR`;return this.http.get(p,{headers:{Authorization:s.apiKey}}).pipe(o(n=>this.mapearVideosMidia(n)))}mapearVideosMidia(e){return r(a({},e),{results:e.results.filter(i=>i.site.toLowerCase()==="youtube").map(i=>r(a({},i),{key:this.domSanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${i.key}`)}))})}mapearDetalhesMidia(e,i){return r(a({},e),{media_type:i,vote_average:e.vote_average*10,poster_path:"https://image.tmdb.org/t/p/w500/"+e.poster_path,backdrop_path:"https://image.tmdb.org/t/p/original/"+e.backdrop_path})}mapearMidia(e,i){return r(a({},e),{type:i,results:e.results.map(t=>r(a({},t),{poster_path:"https://image.tmdb.org/t/p/w500"+t.poster_path,backdrop_path:"https://image.tmdb.org/t/p/original"+t.backdrop_path}))})}mapearFilme(e){return r(a({},e),{type:"filme",results:e.results.map(i=>r(a({},i),{poster_path:"https://image.tmdb.org/t/p/w500"+i.poster_path,backdrop_path:"https://image.tmdb.org/t/p/original"+i.backdrop_path}))})}static \u0275fac=function(i){return new(i||d)};static \u0275prov=l({token:d,factory:d.\u0275fac,providedIn:"root"})};export{c as a,M as b};
